# 网络安全

* DDoS（Distributed Denial of Service，分布式拒绝服务）攻击
* DOS（Denial of Service，拒绝服务）攻击
* [XSS 和 CSRF](/xss-and-csrf.html)


DNS 劫持：DNS 服务器拦截域名解析的请求，返回错误的 IP（一般是广告页面、钓鱼网站的 IP）或者不做任何响应。

HTTP 劫持：HTTP 请求时，在返回的内容中插入恶意代码。在网站发给你信息前就给你返回了请求(?)。










## SQL 注入

SQL 注入








密码要求长度在8位以上并且包含字母，数字，符号两种以上的组合

<script>alert('123');</script>
<ScRiPt>alert('123');</ScRiPt>
<span class="con">&lt;script&gt;alert('123');&lt;/script&gt;测试一下</span>
<p>var s = "\u003c\u003e"; </p>
\u003c script\u003ealert('123');</script>
<p>\u003c script\u003ealert('123');&lt;/script&gt;</p>


因为许多人用小写字符编写HTML代码，所以一些过滤仅检查常用的小写恶意标签。例如：<ScRiPt>，通过改变字符大小写避开过滤。



这里就出现了前面提到了“cookie劫持“问题，本系统通过将cookie中植入HttpOnly成功解决该问题。
有效期

经常关注一下最新的事件，如前一段的个网站的密码泄露事件。
把泄露的用户&密码 文件搞来一份 和自己的会员对比，如果有一致情况 主动提醒用户更换密码。

1.单用户 登陆错误次数限制 防止对单一用户扫号行为
2.增加token防重放机制 每次post之前必须get一次页面获取新token 增加恶意刷号成本
3.打好日志 对可疑扫号行为做监控 起码记录可疑IP
4.js做加密 定期更换加密算法 可以在加密算法未被破解前保证每次登陆行为 必须经过浏览器渲染 增加扫号成本
5.类似 网银、支付宝 安全控件，在更底层做加密 增加破解成本
6.https？这点不是很确定 但一般来说也会增加一部分 刷号成本

爆破密码
最好解决了。增加单用户单位时间重试次数

弱密码探测
比较好解决。增加单IP单位时间重试次数。不过要小心类似wap网关这样的来源IP固定的场景

其他非人肉登录
特指那些频率不高的自动登录行为。这个场景下只能验证码了，而且是强制验证码，不是出错N次后出验证码。

2、管理成员是否有权限的划分

　　一旦没有划分权限，一个编辑用户的帐户失窃也可能为你带来灾难性的后果


上传木马病毒等（往往与权限一起验证）

是否验证从数据库中检索的数据



强制修改的时间间隔限制（初始默认密码）


测试方法：在输入框中输入下列字符，可直接输入脚本来看

HTML标签：<…>…</…>
转义字符：&amp(&)；&lt(<)；&gt(>)；&nbsp(空格) ；
脚本语言：<script>alert(document.cookie);</script>
特殊字符：‘  ’ <>/   


认证和会话数据不能作为GET的一部分来发送

缓冲区溢出
拒绝服务
日志完整性、可审计性与可恢复性


3.1）Get or post
认证和会话数据不应该作为GET的一部分来发送，应该使用POST
例：对Grid、Label、Tree view类的输入框未作验证，输入的内容会按照html语法解析出来
可使用TamperIESetup或ScannerHttpAnalyzerFull来判断
3.2）隐藏域与CGI参数
Bug举例：
分析：隐藏域中泄露了重要的信息，有时还可以暴露程序原代码。

3.4）不安全的配置管理
分析：Config中的链接字符串以及用户信息，邮件，数据存储信息都需要加以保护
配置所有的安全机制，

用户登录后必须分配新的会话标识，不能继续使用用户未登录前所使用的标识。

网站超链接安全
检查所有系统中使用的密钥管理
不得使用不安全的密钥管理办法
网站accessKey等安全

不得使用不安全的密钥管理办法

浏览器安全控件

管理员也存在获取原始密码，利用同样的帐号登陆其他互联网服务的可能。

1）PBKDF2(
2） bcrypt
3) scrypt


Https密钥如何保存才能不被获取到? - 网络安全 - 知乎
Https密钥如何保存才能不被获取到? - 知乎

xml 注入  代码

如果系统提供了下载功能，要防止用户通过路径遍历漏洞下载敏感资源文件。
检测操作步骤  如果系统提供了下载功能，试图通过路径遍历漏洞下载敏感资源文件。

3.5）缓冲区溢出
WEB服务器没有对用户提交的超长请求没有进行合适的处理，这种请求可能包括超长URL，超长HTTP Header域，或者是其它超长的数据

用户使用缓冲区溢出来破坏web应用程序的栈，通过发送特别编写的代码到web程序中，攻击者可以让web应用程序来执行任意代码。

ddos

3.7）日志完整性。可审计性与可恢复性
服务器端日志：检测系统运行时是否会记录完整的日志。
如进行详单查询，检测系统是否会记录相应的操作员、操作时间、系统状态、操作事项、IP地址等
检测对系统关键数据进行增加、修改和删除时，系统是否会记录相应的修改时间、操作人员和修改前的数据记录。
