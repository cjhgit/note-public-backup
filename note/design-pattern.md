# 设计模式
 
## 感悟

1、设计模式这种东西真的不适合新手学。在你基础知识扎实并且有至少一两年的项目经验之前，没必要接触这方面的知识。

2、不要为了模式而学设计模式。别以为你写了一个简单的项目用了十几种设计模式就觉得很牛逼的样子。

3、没有结合实际项目理解设计模式，学起来吃力不说，半个月后全部忘光光。网上那些生动形象的例子看懂了一点卵用都没有。

4、多看一下简单的开源库（如Android的AnsycHttpClient）并模仿写出一个库出来，你学到的东西比看设计模式多得多。

## 基础知识

设计模式里分为创建模式、结构模式、行为模式等三大类，从字面意思上来看，创建模式解决的是对象创建以及存在方式相关设计问题的，例如 单例 多例 工厂等，而结构模式主要解决的是类之间结构化关系的，例如代理、装饰、共享、门面（外观）等，行为模式则是解决类之间调用关系（行为）的。  

**设计模式的六大原则**

**1、开闭原则**

开闭原则就是说**对扩展开放，对修改关闭**。在程序需要进行拓展的时候，不能去修改原有的代码，实现一个热插拔的效果。所以一句话概括就是：为了使程序的扩展性好，易于维护和升级。想要达到这样的效果，我们需要使用接口和抽象类，后面的具体设计中我们会提到这点。

**2、里氏代换原则**

里氏代换原则(Liskov Substitution Principle LSP)面向对象设计的基本原则之一。 里氏代换原则中说，任何基类可以出现的地方，子类一定可以出现。 LSP是继承复用的基石，只有当衍生类可以替换掉基类，软件单位的功能不受到影响时，基类才能真正被复用，而衍生类也能够在基类的基础上增加新的行为。里氏代换原则是对“开-闭”原则的补充。实现“开-闭”原则的关键步骤就是抽象化。而基类与子类的继承关系就是抽象化的具体实现，所以里氏代换原则是对实现抽象化的具体步骤的规范。—— From Baidu 百科

**3、依赖倒转原则**

这个是开闭原则的基础，具体内容：真对接口编程，依赖于抽象而不依赖于具体。

可以参考百度百科的[例子](http://baike.baidu.com/view/2503920.htm?fromtitle=%E4%BE%9D%E8%B5%96%E5%80%92%E8%BD%AC%E5%8E%9F%E5%88%99&amp;fromid=7706090&amp;type=syn "%E4%BE%9D%E8%B5%96%E5%80%92%E8%BD%AC%E5%8E%9F%E5%88%99&amp;fromid=7706090&amp;type=syn")

**4、接口隔离原则**

这个原则的意思是：使用多个隔离的接口，比使用单个接口要好。还是一个降低类之间的耦合度的意思，从这儿我们看出，其实设计模式就是一个软件的设计思想，从大型软件架构出发，为了升级和维护方便。所以上文中多次出现：降低依赖，降低耦合。

**5、迪米特法则（最少知道原则）**

为什么叫最少知道原则，就是说：一个实体应当尽量少的与其他实体之间发生相互作用，使得系统功能模块相对独立。

**6、合成复用原则**

原则是尽量使用合成/聚合的方式，而不是使用继承。


### 1.工厂方法模式模式

简单工厂模式：违反开闭原则
工厂方法模式：产生大量的工厂类

[java中的设计模式（二）--工厂方法模式 反射机制](http://blog.csdn.net/ff55c/article/details/6881043)

### 2.抽象工厂模式

### 3.单例模式

多线程环境下，推荐通过饿汉式或者静态内部类的方式实现。

相关文章推荐：[Java：单例模式的七种写法](http://www.blogjava.net/kenzhh/archive/2011/09/02/357824.html)（作者代码有错误，注意下面的评论，而且在java中，双重锁也有弊端的）

### 4.建造者模式

[设计模式——建造者](http://blog.csdn.net/hello_haozi/article/details/38819935)、[Android和设计模式：建造者模式](http://bj007.blog.51cto.com/1701577/649060)

### 5.原型模式

### 6.适配器模式

适配器模式就是将一些对象包装起来，然后让它们的接口看起来是别的接口。

### 7.装饰模式

它并不会改变接口，而是将一个一个的接口进行装饰，也就是添加新的功能。

### 8.代理模式

和装饰模式很像，区别：

装饰器模式关注于在一个对象上动态的添加方法，然而代理模式关注于控制对对象的访问。换句话 说，用代理模式，代理类（proxy class）可以对它的客户隐藏一个对象的具体信息。因此，当使用代理模式的时候，我们常常在一个代理类中创建一个对象的实例。并且，当我们使用装饰器模 式的时候，我们通常的做法是将原始对象作为一个参数传给装饰者的构造器。

### 9.外观模式

外观模式可以提供一个简洁的外观接口来实现将一个复杂的子系统变得容易使用。、

### 10.桥接模式

### 11.组合模式

### 12.享元模式

### 13.策略模式

### 14.模板方法模式

### 15.观察者模式

[观察者模式应用场景实例](http://blog.csdn.net/swengineer/article/details/6268244)

[Java常用类库--观察者设计模式（ Observable类Observer接口）](http://www.2cto.com/kf/201310/253013.html)

### 16.迭代子模式

### 17.责任链模式

### 18.命令模式

### 19.备忘录模式

### 20.状态模式

### 21.访问者模式

### 22.中介者模式

### 23.解释器模式


其他

java 回调 设计模式

## 相关文章

[Java开发中的23种设计模式详解(转)](http://www.cnblogs.com/maowang1991/archive/2013/04/15/3023236.html)